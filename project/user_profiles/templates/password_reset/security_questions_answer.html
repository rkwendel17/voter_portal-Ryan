{% extends 'base.html' %}

{%block title %}Reset Password{% endblock %}

{% block content %}

<link href="https://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet" />

<div class="text-center">
    <h1>Security Questions</h1>
</div>

<div class="d-flex justify-content-center">
    <form method="POST">
        <label>Question 1</label>
        <select class="form-control" name="question_1" id="question_1" required>
            <option value="" selected>Choose a question</option>
            {% for question in questions %}
                <option value="{{ question.text }}">{{ question.text }}</option>
            {% endfor %}
        </select>
        <br>
        <div class="form-group">
            <label for="answer">Answer</label>
            <input type="text" name="answer_1" class="form-control" id="answer_1" placeholder="Enter your answer">
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
    <script>
$(function(){
    var previous;

    // Could probably compact the function below if time allows in the future

    $('#question_1').on('focus', function () {
        // Store the current value on focus and on change
        previous = this.value;
    }).change(function() {
        if (previous != "") {
            $("#question_2 option[value=" + previous + "]").show();
            $("#question_3 option[value=" + previous + "]").show();
        }
        $("#question_2 option[value=" + $(this).val() + "]").hide();
        $("#question_3 option[value=" + $(this).val() + "]").hide();
    });
});
</script>
{% endblock %}